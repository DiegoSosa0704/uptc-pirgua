<!DOCTYPE html>
<html lang="en">
{% load static %}
{% load leaflet_tags %}
<head>
    {% leaflet_js %}
    {% leaflet_css %}
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Data</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{% static 'semantic/dist/semantic.min.css' %}">
    <script type="text/javascript" src="{% static "leaflet.ajax.min.js" %}"></script>
    <script src="https://www.gstatic.com/firebasejs/5.5.2/firebase.js"></script>
    <script type="text/javascript">
        function our_layers(map, options) {
            var datasetsSedes = new L.GeoJSON.AJAX("{% url 'get_data' %}", {
                onEachFeature: function (feature, layer) {
                    switch(feature.properties.station_name.toString()) {
                        case 'station_1':
                            layer.bindPopup("Primera Estación");
                            break;
                        case 'station_2':
                            layer.bindPopup("Segunda Estación");
                            break;
                        case 'station_3':
                            layer.bindPopup("Tercera Estación");
                            break;
                        default:
                            // code block
                        }
                }
            });
            datasetsSedes.addTo(map);

            L.marker([50.5, 30.5]).addTo(map);
        }
    </script>
    <style type="text/css">
        #gis {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>

<div class="ui three column doubling stackable grid container">

    <section class="eight wide column">
        <h3>Mapa</h3>
        {% leaflet_map "gis" callback="window.our_layers" %}
    </section>

    <section class="eight wide column">
        <div class="ui grid">
            <div class="equal width row">
                <div class="column">
                    <table class="ui celled padded table">
                        <thead>
                        <tr>
                            <th rowspan="2">Primera Estación</th>
                        </tr>
                        <tr>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <h5 class="ui center aligned header">PH</h5>
                            </td>
                            <td id="station_1_data_1" class="single line">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h5 class="ui center aligned header">Oxigeno Disuelto</h5>
                            </td>
                            <td id="station_1_data_2" class="single line">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h5 class="ui center aligned header">Conductividad Electrica</h5>
                            </td>
                            <td id="station_1_data_3" class="single line">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h5 class="ui center aligned header">Estado</h5>
                            </td>
                            <td id="station_1_data_4" class="single line">
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="column">
                    <table class="ui celled padded table">
                        <thead>
                        <tr>
                            <th rowspan="2">Segunda Estación</th>
                        </tr>
                        <tr>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <h5 class="ui center aligned header">PH</h5>
                            </td>
                            <td id="station_2_data_1" class="single line">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h5 class="ui center aligned header">Oxigeno Disuelto</h5>
                            </td>
                            <td id="station_2_data_2" class="single line">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h5 class="ui center aligned header">Conductividad Electrica</h5>
                            </td>
                            <td id="station_2_data_3" class="single line">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h5 class="ui center aligned header">Estado</h5>
                            </td>
                            <td id="station_2_data_4" class="single line">
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="equal width row">
                <div class="column">
                    <table class="ui celled padded table">
                        <thead>
                        <tr>
                            <th rowspan="2">Tercera Estación</th>
                        </tr>
                        <tr>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <h5 class="ui center aligned header">PH</h5>
                            </td>
                            <td id="station_3_data_1" class="single line">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h5 class="ui center aligned header">Oxigeno Disuelto</h5>
                            </td>
                            <td id="station_3_data_2" class="single line">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h5 class="ui center aligned header">Conductividad Electrica</h5>
                            </td>
                            <td id="station_3_data_3" class="single line">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h5 class="ui center aligned header">Estado</h5>
                            </td>
                            <td id="station_3_data_4" class="single line">
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="column"></div>
            </div>
        </div>
    </section>
</div>

{% comment %}

<section class="first-section">
    <div class="container">
        <div class="row">
            <div class="col-md-8">
                <div class="text-content">
                    <h2>Datos Georeferenciados</h2>
                    <div class="line-dec"></div>
                    <span>geoportal especializado en la información de instituciones educativas de tunja</span>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="second-section">
    <div class="container">
        <div class="row">
            <div class="col-md-8 col-sm-6">
                <div class="service-item">
                    <h3>Mapa</h3>
                    {% leaflet_map "gis" callback="window.our_layers" %}
                </div>
            </div>
            <div class="col-md-4 col-sm-6">
                <div class="service-item">
                    <h3>Tabla</h3>
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th scope="col">Información</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <th scope="row">Dato 1:</th>
                            <td id="data1">Mark</td>
                        </tr>
                        <tr>
                            <th scope="row">Dato 2:</th>
                            <td id="data2">Mark</td>
                        </tr>
                        <tr>
                            <th scope="row">Dato 3:</th>
                            <td id="data3">Mark</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>

{% endcomment %}


<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script
        src="https://code.jquery.com/jquery-3.1.1.min.js"
        integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
        crossorigin="anonymous"></script>
<script type="text/javascript" src="{% static "semantic/dist/semantic.min.js" %}"></script>
<script type="text/javascript" src="{% static "js/main.js" %}"></script>
</body>
</html>